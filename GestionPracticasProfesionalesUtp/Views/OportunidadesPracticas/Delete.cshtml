@model GestionPracticasProfesionalesUtp.Models.OportunidadesPracticas

@{
  ViewData["Title"] = "Eliminar oportunidad de práctica";
}

<div class="bg-white rounded mt-4 p-5 shadow-lg">
  <h1 class="text-center fw-bold text-body-emphasis display-5 mb-3">@ViewData["Title"]</h1>
  <div>
    <dl class="row">
      <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Descripcion)
      </dt>
      <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Descripcion)
      </dd>
      <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Requisitos)
      </dt>
      <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Requisitos)
      </dd>
      <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.FechaInicio)
      </dt>
      <dd class="col-sm-10">
        @Html.DisplayFor(model => model.FechaInicio)
      </dd>
      <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.FechaFin)
      </dt>
      <dd class="col-sm-10">
        @Html.DisplayFor(model => model.FechaFin)
      </dd>
      <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Organizacion)
      </dt>
      <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Organizacion.OrganizacionId)
      </dd>
      <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.CoordinadorOrganizacion)
      </dt>
      <dd class="col-sm-10">
        @Html.DisplayFor(model => model.CoordinadorOrganizacion.CoordinadorOrganizacionId)
      </dd>
    </dl>

    <form id="deleteForm" asp-action="Delete" method="post">
      <input type="hidden" asp-for="OportunidadPracticaId" />

      <div class="d-flex gap-2">
        <button id="deleteButton" type="submit" class="btn btn-danger"><i class="fas fa-minus-circle me-1"></i>Borrar</button>
        <a class="btn btn-outline-secondary" asp-action="Index"><i class="fas fa-arrow-left me-1"></i>Regresar</a>
      </div>
    </form>
  </div>
</div>

@section Scripts {
  <script>
    // Lógica de SweetAlert2 para confirmar la eliminación
    document.addEventListener('DOMContentLoaded', function () {
      var deleteForm = document.getElementById('deleteForm');
      var deleteButton = document.getElementById('deleteButton');

      deleteForm.addEventListener('submit', function (event) {
        event.preventDefault();

        Swal.fire({
          title: `¿Eliminar Oportunidad de practica?</span>?`,
          text: 'No podrás revertir esto.',
          icon: 'warning',
          showCloseButton: true,
          showCancelButton: true,
          confirmButtonText: 'Sí, bórralo.',
          cancelButtonText: '¡No, cancelar!',
          confirmButtonColor: 'var(--bs-danger)',
          cancelButtonColor: 'var(--bs-secondary)',
        }).then((result) => {
          if (result.isConfirmed) {
            deleteForm.submit();
          }
        });
      });
    });
  </script>
}
